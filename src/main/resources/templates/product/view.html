<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{layout :: html(~{::section})}">
<body style="background: linear-gradient(120deg, #E9F1FA 60%, #00ABE4 100%); min-height: 100vh;">
<section class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card shadow-lg border-0" style="border-radius: 1.5rem;">
                <div class="card-body p-5">
                    <h2 class="mb-4 text-center" style="color:var(--primary-color);font-weight:700;">Product Details
                    </h2>
                    <div class="mb-4 text-center">
                        <label class="form-label mb-2"
                               style="font-size:1.1rem;font-weight:500;letter-spacing:0.5px;">
                        </label>
                        <div class="position-relative d-flex flex-column align-items-center justify-content-center bg-light border rounded shadow-sm mx-auto"
                             style="min-height:160px;max-width:260px;">
                            <img th:if="${photos != null && !photos.isEmpty()}"
                                 th:src="@{/products/photo/{id}(id=${photos[0].id})}"
                                 class="img-fluid rounded border shadow mb-2 animate__animated animate__fadeIn"
                                 style="max-height:150px;object-fit:cover;background:#f8fafc;"
                                 th:alt="${photos[0].fileName}"/>
                            <div th:if="${photos == null || photos.isEmpty()}"
                                 class="d-flex flex-column align-items-center justify-content-center w-100 h-100"
                                 style="height:120px;">
                                <i class="fas fa-image fa-3x text-muted mb-2"></i>
                                <span class="text-muted">No product photo</span>
                            </div>
                            <div class="small text-muted mt-1" th:if="${photos != null && !photos.isEmpty()}"
                                 th:text="${photos[0].fileName}"></div>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="form-label">Product Name</label>
                        <div class="input-group">
                            <span class="input-group-text bg-white text-primary"><i class="fas fa-tag"></i></span>
                            <input type="text" class="form-control" th:value="${product.name}" readonly
                                   style="border-radius: 2rem; box-shadow: 0 2px 8px #e9f1fa;">
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="form-label">Description</label>
                        <div class="input-group">
                            <span class="input-group-text bg-white text-primary"><i class="fas fa-align-left"></i></span>
                            <textarea class="form-control" rows="3" readonly
                                      style="border-radius: 2rem; box-shadow: 0 2px 8px #e9f1fa;"
                                      th:text="${product.description}"></textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-4">
                            <label class="form-label">Price</label>
                            <div class="input-group">
                                <span class="input-group-text bg-white text-primary"><i class="fas fa-dollar-sign"></i></span>
                                <input type="text" class="form-control" th:value="${product.price}" readonly
                                       style="border-radius: 2rem; box-shadow: 0 2px 8px #e9f1fa;">
                            </div>
                        </div>
                        <div class="col-md-6 mb-4">
                            <label class="form-label">Quantity</label>
                            <div class="input-group">
                                <span class="input-group-text bg-white text-primary"><i class="fas fa-boxes"></i></span>
                                <input type="text" class="form-control" th:value="${product.quantity}" readonly
                                       style="border-radius: 2rem; box-shadow: 0 2px 8px #e9f1fa;">
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center gap-2 mt-4">
                        <a th:href="@{/products/list}"
                           class="btn btn-secondary px-4 py-2 rounded-pill shadow-sm">Back to List</a>
                        <a th:href="@{/products/edit/{id}(id=${product.id})}"
                           class="btn btn-warning px-4 py-2 rounded-pill shadow-sm"
                           sec:authorize="hasRole('ADMIN')">Edit</a>
                        <a th:href="@{/products/delete/{id}(id=${product.id})}"
                           class="btn btn-danger px-4 py-2 rounded-pill shadow-sm"
                           sec:authorize="hasRole('ADMIN')"
                           onclick="return confirm('Are you sure you want to delete this product?')">Delete</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
</body>
</html>
